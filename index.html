<!DOCTYPE html>
<html>
  <head>
    <!-- <link href="./betterTable/styles/betterTable.css" rel="stylesheet" /> -->
    <link href="./betterTable/styles/betterTableFlex.css" rel="stylesheet" />
    <link href="site.css" rel="stylesheet" />
    <script src="./betterTable/src/betterTableFlex.js"></script>
  </head>
  <body>
    <div id="container" style="height: 500px;"></div>
    <script>
      const rows = [];
      const rows2 = [];
      for (let i = 0; i < 20000; i++) {
        rows.push({
          email: 'someemail@email.com',
          fname: 'FirstName' + i,
          lname: 'LastName' + i,
          username: 'Username' + i,
        });

        rows2.push({
          email: 'someOtherEmail@email.com',
          fname: 'NotFirstName' + i,
          lname: 'NotLastName' + i,
          username: 'NotUsername' + i,
        });
      }

      const tick = Date.now();
      const bt = new BetterTable.Table({
        columns: {
          email: { name: 'Email', props: { } },
          fname: { name: 'First Name', props: { } },
          lname: { name: 'Last Name', props: { } },
          username: { name: 'Username', props: { } },
        },
        rows: rows,
        appendTo: document.getElementById('container'),
      });
      console.log('BetterSelect initialized in', (Date.now() - tick) + 'ms');

      const $filter = document.createElement('input');
      $filter.className = 'btf-filter';
      $filter.placeholder = 'Filter'

      bt.$toolbarEl.appendChild($filter);

      let timeout = null;

      $filter.oninput = function() {
        if (timeout) {
          clearTimeout(timeout);
        }

        timeout = setTimeout(function() {
          bt.filter = $filter.value
        }, 100);
      };

      bt.onCellDoubleClick.connect(function(Cell) {
        console.log(Cell);
      });

      bt.onColumnClick.connect(function (Column) {
        Column.toggleSort();
      });

    </script>
  </body>
</html>