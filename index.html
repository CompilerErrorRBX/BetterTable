<!DOCTYPE html>
<html>
  <head>
    <link href="./betterTable/styles/betterTable.css" rel="stylesheet" />
    <link href="site.css" rel="stylesheet" />
    <script src="./betterTable/src/betterTable.js"></script>
  </head>
  <body>
    <script>
      const rows = [];
      const rows2 = [];
      for (let i = 0; i < 20000; i++) {
        rows.push({
          email: 'someemail@email.com',
          fname: 'FirstName' + i,
          lname: 'LastName' + i,
          username: 'Username' + i,
        });

        rows2.push({
          email: 'someOtherEmail@email.com',
          fname: 'NotFirstName' + i,
          lname: 'NotLastName' + i,
          username: 'NotUsername' + i,
        });
      }

      const tick = Date.now();
      const bt = new BetterTable.Table({
        columns: {
          email: { name: 'Email', props: { style: 'min-width: 500px; width: 500px;' } },
          fname: { name: 'First Name', props: { style: 'min-width: 500px; width: 500px;' } },
          lname: { name: 'Last Name', props: { style: 'min-width: 500px; width: 500px;' } },
          username: { name: 'Username', props: { style: 'min-width: 500px; width: 500px;' } },
        },
        rows
      });
      console.log('BetterSelect initialized in', (Date.now() - tick) + 'ms');

      const $filter = document.createElement('input');
      $filter.className = 'bt-filter';
      $filter.placeholder = 'Filter'

      bt.$toolbarEl.appendChild($filter);

      let timeout = null;

      $filter.oninput = function() {
        if (timeout) {
          clearTimeout(timeout);
        }

        timeout = setTimeout(function() {
          bt.filter = $filter.value
        }, 100);
      };

      bt.onCellDoubleClick.connect(function(Cell) {
        console.log(Cell);
      });

      bt.onColumnClick.connect(function (Column) {
        Column.toggleSort();
      });

      setTimeout(function() {
        console.log('Rows changed');
        bt.rowData = rows2;
      }, 5000);
    </script>
    <!-- <div class="betterTable">
      <div class="bt-toolbar">
        <strong>BetterTable</strong>
        <div class="bt-spacer"></div>
        <input class="bt-filter" placeholder="Filter" />
      </div>
      <div class="bt-main-container bt-header-floated bt-lazy">
        <div class="bt-container">
          <div class="bt-progress">
            <div class="bt-progress-bar"></div>
          </div>
          <div class="bt-table">
            <div class="bt-columns">
              <div class="bt-column" style="flex: 1;"></div>
              <div class="bt-column" style="width: 160px"></div>
              <div class="bt-column" style="width: 160px"></div>
            </div>
            <div class="bt-header">
              <div class="bt-header-container">
                <div class="bt-cell" style="flex: 1;">Email</div>
                <div class="bt-cell" style="width: 160px">First Name</div>
                <div class="bt-cell" style="width: 160px">Last Name</div>
              </div>
            </div>
            <div class="bt-body">
              <div class="bt-row">
                <div class="bt-cell">stephenlkmartin@gmail.com</div>
                <div class="bt-cell">Stephen</div>
                <div class="bt-cell">Martin</div>
              </div>
              <div class="bt-row">
                <div class="bt-cell">dlmartin@gmail.com</div>
                <div class="bt-cell">Daniel</div>
                <div class="bt-cell">Martin</div>
              </div>
              <div class="bt-row">
                <div class="bt-cell">tonymu@gmail.com</div>
                <div class="bt-cell">Tony</div>
                <div class="bt-cell">Mu</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div> -->
  </body>
</html>